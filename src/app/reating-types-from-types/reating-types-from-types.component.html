<div class="types-container">
  <!-- Page Header -->
  <div class="page-header">
    <h1><i class="bi bi-diagram-3 text-primary"></i> Creating Types from Types</h1>
    <p class="lead">Master TypeScript utility types, mapped types, and conditional types with interactive examples</p>
  </div>

  <!-- Basic Utility Types -->
  <div class="section utility-types">
    <h2>üîß Basic Utility Types</h2>
    
    <div class="row">
      <div class="col-md-6">
        <div class="example-card">
          <h5><code>Partial&lt;T&gt;</code> - Makes All Properties Optional</h5>
          <div class="type-display">
            <div class="type-code">
              <pre><code>// Original User interface
interface User &#123;
  id: number;
  name: string;
  email: string;
  age?: number;
  isActive: boolean;
&#125;

// Partial&lt;User&gt; makes ALL properties optional
type PartialUser = Partial&lt;User&gt;;
// Result: &#123; id?: number; name?: string; email?: string; age?: number; isActive?: boolean; &#125;</code></pre>
            </div>
            <div class="type-data">
              <h6>Partial User Example:</h6>
              <div class="data-display">
                <div><strong>Name:</strong> {{ utilityExamples.partialUser.name || 'Not provided' }}</div>
                <div><strong>Email:</strong> {{ utilityExamples.partialUser.email || 'Not provided' }}</div>
                <div><strong>ID:</strong> {{ utilityExamples.partialUser.id || 'Not provided' }}</div>
                <div class="badge bg-info">Only some properties are provided - others are optional!</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-md-6">
        <div class="example-card">
          <h5><code>Required&lt;T&gt;</code> - Makes All Properties Required</h5>
          <div class="type-display">
            <div class="type-code">
              <pre><code>// Required&lt;User&gt; makes ALL properties required
type RequiredUser = Required&lt;User&gt;;
// Result: &#123; id: number; name: string; email: string; age: number; isActive: boolean; &#125;
// Even the optional 'age' becomes required!</code></pre>
            </div>
            <div class="type-data">
              <h6>Required User Example:</h6>
              <div class="data-display">
                <div><strong>ID:</strong> {{ utilityExamples.requiredUser.id }}</div>
                <div><strong>Name:</strong> {{ utilityExamples.requiredUser.name }}</div>
                <div><strong>Email:</strong> {{ utilityExamples.requiredUser.email }}</div>
                <div><strong>Age:</strong> {{ utilityExamples.requiredUser.age }}</div>
                <div><strong>Active:</strong> 
                  <span class="badge" [class.bg-success]="utilityExamples.requiredUser.isActive" [class.bg-secondary]="!utilityExamples.requiredUser.isActive">
                    {{ utilityExamples.requiredUser.isActive ? 'Yes' : 'No' }}
                  </span>
                </div>
                <div class="badge bg-warning">All properties must be provided!</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row mt-4">
      <div class="col-md-6">
        <div class="example-card">
          <h5><code>Pick&lt;T, K&gt;</code> - Select Specific Properties</h5>
          <div class="type-display">
            <div class="type-code">
              <pre><code>// Pick only id, name, and email from User
type UserBasicInfo = Pick&lt;User, 'id' | 'name' | 'email'&gt;;
// Result: &#123; id: number; name: string; email: string; &#125;</code></pre>
            </div>
            <div class="type-data">
              <h6>Picked User Properties:</h6>
              <div class="data-display">
                <div><strong>ID:</strong> {{ utilityExamples.pickUser.id }}</div>
                <div><strong>Name:</strong> {{ utilityExamples.pickUser.name }}</div>
                <div><strong>Email:</strong> {{ utilityExamples.pickUser.email }}</div>
                <div class="badge bg-success">Only selected properties are available!</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-md-6">
        <div class="example-card">
          <h5><code>Omit&lt;T, K&gt;</code> - Exclude Specific Properties</h5>
          <div class="type-display">
            <div class="type-code">
              <pre><code>// Omit id and createdAt from User
type UserWithoutIdAndDate = Omit&lt;User, 'id' | 'createdAt'&gt;;
// Result: &#123; name: string; email: string; age?: number; isActive: boolean; role: string; &#125;</code></pre>
            </div>
            <div class="type-data">
              <h6>Omitted User Properties:</h6>
              <div class="data-display">
                <div><strong>Name:</strong> {{ utilityExamples.omitUser.name }}</div>
                <div><strong>Email:</strong> {{ utilityExamples.omitUser.email }}</div>
                <div><strong>Age:</strong> {{ utilityExamples.omitUser.age }}</div>
                <div><strong>Role:</strong> {{ utilityExamples.omitUser.role }}</div>
                <div><strong>Active:</strong> 
                  <span class="badge" [class.bg-success]="utilityExamples.omitUser.isActive" [class.bg-secondary]="!utilityExamples.omitUser.isActive">
                    {{ utilityExamples.omitUser.isActive ? 'Yes' : 'No' }}
                  </span>
                </div>
                <div class="badge bg-danger">ID and createdAt are excluded!</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Advanced Utility Types -->
  <div class="section advanced-types">
    <h2>üöÄ Advanced Utility Types</h2>
    
    <div class="row">
      <div class="col-md-6">
        <div class="example-card">
          <h5><code>Record&lt;K, T&gt;</code> - Create Object Type</h5>
          <div class="type-display">
            <div class="type-code">
              <pre><code>// Create object with string keys and number values
type UserRoles = Record&lt;string, number&gt;;
// Result: &#123; [key: string]: number &#125;</code></pre>
            </div>
            <div class="type-data">
              <h6>Role Counts:</h6>
              <div class="data-display">
                <div *ngFor="let role of objectKeys(utilityExamples.recordType)" class="role-item">
                  <strong>{{ role }}:</strong> {{ utilityExamples.recordType[role] }}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-md-6">
        <div class="example-card">
          <h5><code>Readonly&lt;T&gt;</code> - Make Properties Readonly</h5>
          <div class="type-display">
            <div class="type-code">
              <pre><code>// Make all User properties readonly
type ReadonlyUser = Readonly&lt;User&gt;;
// Result: &#123; readonly id: number; readonly name: string; ... &#125;</code></pre>
            </div>
            <div class="type-data">
              <h6>Readonly User:</h6>
              <div class="data-display">
                <div><strong>Name:</strong> {{ utilityExamples.readonlyUser.name }}</div>
                <div><strong>Email:</strong> {{ utilityExamples.readonlyUser.email }}</div>
                <div class="badge bg-secondary">Properties cannot be modified!</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Interactive Examples -->
  <div class="section interactive-examples">
    <h2>üéÆ Interactive Utility Types</h2>
    
    <div class="row">
      <div class="col-md-6">
        <div class="example-card">
          <h5>Partial Update Form</h5>
          <div class="interactive-demo">
            <p>Use <code>Partial&lt;User&gt;</code> to update only specific properties:</p>
            <div class="form-group mb-3">
              <label>Name (optional):</label>
              <input type="text" [(ngModel)]="partialUpdateForm.name" class="form-control" placeholder="New name">
            </div>
            <div class="form-group mb-3">
              <label>Email (optional):</label>
              <input type="email" [(ngModel)]="partialUpdateForm.email" class="form-control" placeholder="New email">
            </div>
            <div class="form-group mb-3">
              <label>Age (optional):</label>
              <input type="number" [(ngModel)]="partialUpdateForm.age" class="form-control" placeholder="New age">
            </div>
            <button class="btn btn-primary" (click)="updateUserPartially()">Update User Partially</button>
            
            <div class="current-user mt-3">
              <h6>Current User:</h6>
              <div><strong>Name:</strong> {{ sampleUser.name }}</div>
              <div><strong>Email:</strong> {{ sampleUser.email }}</div>
              <div><strong>Age:</strong> {{ sampleUser.age }}</div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-md-6">
        <div class="example-card">
          <h5>Product Search with Partial</h5>
          <div class="interactive-demo">
            <p>Use <code>Partial&lt;Product&gt;</code> for flexible search criteria:</p>
            <div class="form-group mb-3">
              <label>Name (optional):</label>
              <input type="text" [(ngModel)]="searchCriteria.name" class="form-control" placeholder="Search by name">
            </div>
            <div class="form-group mb-3">
              <label>Category (optional):</label>
              <input type="text" [(ngModel)]="searchCriteria.category" class="form-control" placeholder="Search by category">
            </div>
            <div class="form-group mb-3">
              <label>In Stock (optional):</label>
              <select [(ngModel)]="searchCriteria.inStock" class="form-select">
                <option [ngValue]="undefined">Any</option>
                <option [ngValue]="true">In Stock</option>
                <option [ngValue]="false">Out of Stock</option>
              </select>
            </div>
            <button class="btn btn-success" (click)="searchProducts()">Search Products</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Omit Example -->
    <div class="row mt-4">
      <div class="col-md-6">
        <div class="example-card">
          <h5>Add User with Omit</h5>
          <div class="interactive-demo">
            <p>Use <code>Omit&lt;User, 'id' | 'createdAt'&gt;</code> for new user form:</p>
            <div class="form-group mb-3">
              <label>Name:</label>
              <input type="text" [(ngModel)]="newUser.name" class="form-control" placeholder="User name">
            </div>
            <div class="form-group mb-3">
              <label>Email:</label>
              <input type="email" [(ngModel)]="newUser.email" class="form-control" placeholder="User email">
            </div>
            <div class="form-group mb-3">
              <label>Age (optional):</label>
              <input type="number" [(ngModel)]="newUser.age" class="form-control" placeholder="User age">
            </div>
            <div class="form-group mb-3">
              <label>Role:</label>
              <select [(ngModel)]="newUser.role" class="form-select">
                <option value="user">User</option>
                <option value="admin">Admin</option>
                <option value="moderator">Moderator</option>
              </select>
            </div>
            <div class="form-check mb-3">
              <input type="checkbox" [(ngModel)]="newUser.isActive" class="form-check-input" id="userActive">
              <label class="form-check-label" for="userActive">Active User</label>
            </div>
            <button class="btn btn-success" (click)="addUser()">Add User</button>
          </div>
        </div>
      </div>

      <div class="col-md-6">
        <div class="example-card">
          <h5>Users List</h5>
          <div class="users-list">
            <div class="user-item" *ngFor="let user of users">
              <div class="user-info">
                <strong>{{ user.name }}</strong> ({{ user.email }})
                <span class="badge ms-2" [class.bg-success]="user.isActive" [class.bg-secondary]="!user.isActive">
                  {{ user.isActive ? 'Active' : 'Inactive' }}
                </span>
                <span class="badge bg-info ms-1">{{ user.role }}</span>
              </div>
              <div class="user-actions">
                <button class="btn btn-sm btn-outline-danger" (click)="deleteUser(user.id)">
                  Delete
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Template Literal Types -->
  <div class="section template-literal">
    <h2>üìù Template Literal Types</h2>
    
    <div class="row">
      <div class="col-md-6">
        <div class="example-card">
          <h5>Event Handler Types</h5>
          <div class="type-display">
            <div class="type-code">
              <pre><code>type EventNames = 'click' | 'scroll' | 'mousemove';
type EventHandlers = `on$&#123;Capitalize&lt;EventNames&gt;&#125;`;
// Result: 'onClick' | 'onScroll' | 'onMousemove'</code></pre>
            </div>
            <div class="type-data">
              <h6>Generated Event Handlers:</h6>
              <div class="data-display">
                <span class="badge bg-primary me-2" *ngFor="let handler of eventHandlers">{{ handler }}</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-md-6">
        <div class="example-card">
          <h5>Mapped Types Example</h5>
          <div class="type-display">
            <div class="type-code">
              <pre><code>// Create flags for each User property
type UserFlags = &#123;
  [K in keyof User]: boolean;
&#125;;</code></pre>
            </div>
            <div class="type-data">
              <h6>User Property Flags:</h6>
              <div class="data-display">
                <div *ngFor="let flag of objectKeys(userFlags)" class="flag-item">
                  <strong>{{ flag }}:</strong> 
                  <span class="badge" [class.bg-success]="getUserFlagValue(flag)" [class.bg-danger]="!getUserFlagValue(flag)">
                    {{ getUserFlagValue(flag) ? 'Enabled' : 'Disabled' }}
                  </span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Conditional Types -->
  <div class="section conditional-types">
    <h2>üîÄ Conditional Types</h2>
    
    <div class="row">
      <div class="col-md-6">
        <div class="example-card">
          <h5>Type Conditions</h5>
          <div class="type-display">
            <div class="type-code">
              <pre><code>type IsArray&lt;T&gt; = T extends any[] ? true : false;

type StringArrayCheck = IsArray&lt;string[]&gt;; // true
type NumberCheck = IsArray&lt;number&gt;; // false</code></pre>
            </div>
            <div class="type-data">
              <h6>Type Checking Results:</h6>
              <div class="data-display">
                <div>string[] is array: <span class="badge bg-success">{{ isStringArray }}</span></div>
                <div>number is array: <span class="badge bg-danger">{{ isNumberArray }}</span></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-md-6">
        <div class="example-card">
          <h5>API Response Types</h5>
          <div class="type-display">
            <div class="type-code">
              <pre><code>interface ApiResponse&lt;T&gt; &#123;
  success: boolean;
  message: string;
  data: T;
  timestamp: Date;
&#125;</code></pre>
            </div>
            <div class="type-data">
              <h6>Typed API Responses:</h6>
              <div class="data-display">
                <button class="btn btn-outline-primary me-2" (click)="getUsersApiResponse()">Get Users Response</button>
                <button class="btn btn-outline-success" (click)="getProductApiResponse()">Get Product Response</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Best Practices -->
  <div class="section best-practices">
    <h2>‚úÖ Best Practices</h2>
    
    <div class="row">
      <div class="col-md-4">
        <div class="practice-card">
          <h6><i class="bi bi-check-circle text-success"></i> When to Use</h6>
          <ul>
            <li><strong>Partial:</strong> Form updates, API patches</li>
            <li><strong>Pick:</strong> Creating focused views</li>
            <li><strong>Omit:</strong> Form creation, data sanitization</li>
            <li><strong>Record:</strong> Key-value mappings</li>
            <li><strong>Required:</strong> Ensuring all fields</li>
            <li><strong>Readonly:</strong> Immutable data</li>
          </ul>
        </div>
      </div>
      
      <div class="col-md-4">
        <div class="practice-card">
          <h6><i class="bi bi-lightbulb text-warning"></i> Common Patterns</h6>
          <ul>
            <li>Use Partial for optional updates</li>
            <li>Combine Pick with API responses</li>
            <li>Use Omit for form interfaces</li>
            <li>Record for configuration objects</li>
            <li>Template literals for type-safe strings</li>
            <li>Conditional types for generic utilities</li>
          </ul>
        </div>
      </div>
      
      <div class="col-md-4">
        <div class="practice-card">
          <h6><i class="bi bi-star text-info"></i> Benefits</h6>
          <ul>
            <li>Reduce code duplication</li>
            <li>Maintain type safety</li>
            <li>Automatic interface updates</li>
            <li>Better IntelliSense</li>
            <li>Compile-time validation</li>
            <li>Self-documenting code</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>
